@model IEnumerable<CurricolumDAL.User>
<script src="../../MyScript/User/DeleteUserScript.js" type="text/javascript"></script>

<fieldset>

@if (Model.Count() > 0)


{
<table>
    <tr>
        <th>
            username
        </th>
        
        <th>
            email
        </th>
        <th>
            Ruolo
        </th>
        <th>
        </th>
        
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.username)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Ruolo.tipo_ruolo)
        </td>
        <td>
            @Ajax.ActionLink("Mostra PassWord", "ShowPswUser", new { id = item.id },
                                            new AjaxOptions
                                            {
                                                HttpMethod = "get",
                                                LoadingElementId = "loader_psw",
                                                InsertionMode = InsertionMode.Replace
                                                ,
                                                UpdateTargetId = "show_psw"
                                            })
        </td>
        <td>
            @Html.ActionLink("Edit", "EditUser", new { id = item.id }) |

            @Html.ActionLink("Delete", "DeleteUser", new { id = item.id }, new { @class ="deleteLink"})
        </td>
    </tr>
}

</table>

<div id ="show_psw" style=" position:relative; float:left;">
            <img alt="loader_psw" id="loader"src="../../../Content/loader/ajax-loader.gif" style="display: none" />

</div>
}
else { 

    <text><h2 style=" color:Red">Spiacente nessun elemento trovato con questo criterio di ricerca</h2></text>
}

</fieldset>

